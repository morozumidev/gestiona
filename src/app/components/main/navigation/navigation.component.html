<div class="navigation" [class.collapsed]="isCollapsed" [@slideInOut]="isCollapsed ? 'out' : 'in'">
  <button mat-icon-button type="button" class="toggle-btn" (click)="onToggle()">
    <mat-icon>menu</mat-icon>
  </button>

  <nav>
    @if (navItems().length === 0) {
      <!-- skeleton simple mientras carga user/rol -->
      <button mat-button type="button" disabled>
        <mat-icon>more_horiz</mat-icon>
        <span class="nav-label">Cargando…</span>
      </button>
    } @else {
      @for (item of navItems(); let i = $index; track i) {
        <button mat-button type="button" (click)="navigate(item)">
          <mat-icon>{{ item.icon }}</mat-icon>
          <span class="nav-label">{{ item.label }}</span>
        </button>
      }

      <button mat-button type="button" (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span class="nav-label">Cerrar sesión</span>
      </button>
    }
  </nav>
</div>
